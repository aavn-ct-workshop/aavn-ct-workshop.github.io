(function(t){function e(e){for(var c,a,u=e[0],i=e[1],d=e[2],p=0,l=[];p<u.length;p++)a=u[p],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&l.push(r[a][0]),r[a]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c]);s&&s(e);while(l.length)l.shift()();return o.push.apply(o,d||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],c=!0,u=1;u<n.length;u++){var i=n[u];0!==r[i]&&(c=!1)}c&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var c={},r={app:0},o=[];function a(e){if(c[e])return c[e].exports;var n=c[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=c,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)a.d(n,c,function(e){return t[e]}.bind(null,c));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var s=i;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"495c":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),r=(n("098b"),n("e1ae"),n("4121"),n("bddf"),n("9319")),o=n("bb57"),a=n("8398"),u=n("9899");function i(t,e,n,r,o,a){var u=Object(c["w"])("Banner"),i=Object(c["w"])("NavBar"),d=Object(c["w"])("router-view");return Object(c["o"])(),Object(c["d"])(c["a"],null,[Object(c["f"])(u,{msg:"FOOD-ĐÂY"}),Object(c["f"])(i),Object(c["f"])(d)],64)}var d=Object(c["D"])("data-v-3b367b86");Object(c["r"])("data-v-3b367b86");var s={href:"/"};Object(c["p"])();var p=d((function(t,e,n,r,o,a){return Object(c["o"])(),Object(c["d"])("a",s,[Object(c["f"])("h1",null,Object(c["z"])(n.msg),1)])})),l={props:{msg:String}};n("8fc2");l.render=p,l.__scopeId="data-v-3b367b86";var f=l,b=Object(c["D"])("data-v-2f2d346c");Object(c["r"])("data-v-2f2d346c");var m={id:"navbar"},O={id:"logout"};Object(c["p"])();var j=b((function(t,e,n,r,o,a){var u=Object(c["w"])("Button");return Object(c["o"])(),Object(c["d"])("div",m,[Object(c["f"])("span",O,[Object(c["f"])(u,{label:"Logout",icon:"pi pi-sign-out",onClick:a.logout},null,8,["onClick"])])])})),h=n("68ad"),v={url:"http://192.168.84.13:31726/auth",realm:"devnation",clientId:"vue-app"},g={name:"NavBar",methods:{logout:function(){var t=h(v),e={redirectUri:"http://192.168.84.13:31981/"};t.init().then(t.logout(e))}}};n("c766");g.render=j,g.__scopeId="data-v-2f2d346c";var P=g,T={name:"App",components:{Banner:f,NavBar:P}};n("e7e1");T.render=i;var w=T,y=(n("b0c0"),Object(c["D"])("data-v-22306606"));Object(c["r"])("data-v-22306606");var C={class:"p-d-flex p-jc-center"},_={key:0,class:"p-grid pricing-table-price"},R={id:"merchant-name",class:"p-m-4"},k={key:1};Object(c["p"])();var A=y((function(t,e,n,r,o,a){var u=Object(c["w"])("ProductItem"),i=Object(c["w"])("ShoppingCart");return Object(c["o"])(),Object(c["d"])("div",C,[o.merchant?(Object(c["o"])(),Object(c["d"])("div",_,[Object(c["f"])("img",{id:"image",src:o.merchant.image,alt:"Image",class:"p-m-auto"},null,8,["src"]),Object(c["f"])("span",R,Object(c["z"])(o.merchant.name),1),(Object(c["o"])(!0),Object(c["d"])(c["a"],null,Object(c["u"])(o.merchant.foods,(function(t){return Object(c["o"])(),Object(c["d"])("div",{key:t.id,class:"p-col"},[Object(c["f"])(u,{product:t},null,8,["product"])])})),128))])):(Object(c["o"])(),Object(c["d"])("div",k,"loading ...")),Object(c["f"])(i,{class:"shopping-cart p-col-3"})])})),S=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("5530")),x=(n("96cf"),n("1da1")),D={class:"product-container pricing-table-price"},E={class:"product-name"},U={class:"product-price"},I={class:"product-add-cart p-mt-3"};function M(t,e,n,r,o,a){var u=Object(c["w"])("AddToCart");return Object(c["o"])(),Object(c["d"])("div",D,[Object(c["f"])("img",{src:n.product.image,class:"product-image"},null,8,["src"]),Object(c["f"])("div",E,Object(c["z"])(n.product.name),1),Object(c["f"])("div",U,"$"+Object(c["z"])(n.product.price),1),Object(c["f"])("div",I,[Object(c["f"])(u,{product:n.product},null,8,["product"])])])}n("7db0");var B={getProductById:N,getProducts:L};function L(){return z}function N(t){return z.find((function(e){return e.id==t}))}var z=[{id:1,name:"Airpods",price:"199",img:"airpods.jpg",desc:"Airpords detail"},{id:2,name:"Air Jordans",price:"125",img:"air-jordans.jpg",desc:"Air Jordans detail"},{id:3,name:"Smartphone",price:"699",img:"smartphone.jpg",desc:"Smartphone detail"}],$=B,q={class:""};function J(t,e,n,r,o,a){var u=Object(c["w"])("Button");return Object(c["o"])(),Object(c["d"])("div",q,[Object(c["f"])(u,{label:"Add to Cart",icon:"pi pi-shopping-cart",iconPos:"left",onClick:e[1]||(e[1]=function(t){return a.addToCart(n.product)})})])}var F={name:"AddToCart",props:{product:Object},data:function(){return{}},methods:{addToCart:function(t){this.$store.dispatch("cart/addProduct",t)}}};F.render=J;var H=F,V={name:"ProductItem",components:{AddToCart:H},props:{product:Object},data:function(){return{}},methods:{getImgUrl:function(t){return $.getImgUrl(t)}}};n("ebda");V.render=M;var Y=V,G=Object(c["D"])("data-v-fb1de5d8");Object(c["r"])("data-v-fb1de5d8");var W={class:"p-d-flex p-flex-column"},K=Object(c["f"])("div",{class:"p-mb-3"},[Object(c["f"])("strong",null,"Shopping Cart")],-1),Q={class:"p-d-flex p-flex-column wrapper"},X={class:"p-d-flex p-flex-column list-of-products"},Z={class:"name"},tt={class:"p-text-right"},et=Object(c["f"])("hr",{class:"devider"},null,-1),nt={class:"p-d-flex p-jc-center total"},ct=Object(c["f"])("div",{class:"p-mr-3"},[Object(c["f"])("strong",null,"Total:")],-1),rt={class:""},ot={key:1};Object(c["p"])();var at=G((function(t,e,n,r,o,a){var u,i=Object(c["w"])("RemoveFromCart"),d=Object(c["w"])("Button");return Object(c["o"])(),Object(c["d"])("div",W,[K,Object(c["f"])("div",Q,[null!==(u=o.allProducts)&&void 0!==u&&u.length?(Object(c["o"])(),Object(c["d"])(c["a"],{key:0},[Object(c["f"])("div",X,[(Object(c["o"])(!0),Object(c["d"])(c["a"],null,Object(c["u"])(o.allProducts,(function(t,e){return Object(c["o"])(),Object(c["d"])("div",{class:"product-item p-mb-2",key:t.id},[Object(c["f"])("div",Z,Object(c["z"])(t.name),1),Object(c["f"])("div",null,Object(c["z"])(t.quantity),1),Object(c["f"])("div",tt,Object(c["z"])(a.productPrice(t)),1),Object(c["f"])("div",null,[Object(c["f"])(i,{productIndex:e},null,8,["productIndex"])])])})),128))]),et,Object(c["f"])("div",nt,[ct,Object(c["f"])("div",null,Object(c["z"])(a.total),1)]),Object(c["f"])("div",rt,[Object(c["f"])(d,{label:"Checkout",class:"btn-success",onClick:e[1]||(e[1]=function(t){return a.checkout()})})])],64)):(Object(c["o"])(),Object(c["d"])("div",ot,"Please buy somethings"))])])})),ut=(n("13d5"),{class:""});function it(t,e,n,r,o,a){return Object(c["o"])(),Object(c["d"])("div",ut,[Object(c["f"])("i",{class:"pi pi-times product-remove-cart",onClick:e[1]||(e[1]=function(t){return a.removeFromCart(n.productIndex)})})])}n("a9e3");var dt={name:"RemoveFromCart",props:{productIndex:Number},data:function(){return{}},methods:{removeFromCart:function(t){this.$store.dispatch("cart/removeProduct",t)}}};dt.render=it;var st=dt,pt={name:"ShoppingCart",components:{RemoveFromCart:st},created:function(){},data:function(){return{allProducts:this.$store.getters["cart/getAllProducts"]}},props:{},methods:{productPrice:function(t){var e=t.quantity;return e*t.price},checkout:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){var n,c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.allProducts)},c=new URL("/api/orders","http://192.168.84.13:31726"),e.prev=2,e.next=5,fetch(c,n);case 5:r=e.sent,200==r.status?alert("Your order is submitted, it will be deliver in next minutes!!!"):alert("Your order can not process at this time, please try again!!!"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),alert("Error: Technical issue, please try again!");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))()}},computed:{total:function(){var t=this.allProducts.reduce((function(t,e){var n=e.quantity&&e.quantity>0?e.quantity:1;return t+n*e.price}),0);return t}}};n("7675");pt.render=at,pt.__scopeId="data-v-fb1de5d8";var lt=pt,ft={name:"Products",props:["id"],components:{ProductItem:Y,ShoppingCart:lt},data:function(){return{boughtProducts:this.$store.getters["cart/getAllProducts"],merchant:void 0}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:fetch(new URL("/api/merchants/"+t.id,"http://192.168.84.13:31726")).then((function(t){return t.json()})).then((function(e){return t.merchant=e})),fetch(new URL("/api/foods/"+t.id,"http://192.168.84.13:31726")).then((function(t){return t.json()})).then((function(e){return t.merchant=Object(S["a"])(Object(S["a"])({},t.merchant),{},{foods:e})}));case 2:case"end":return e.stop()}}),e)})))()}},computed:{}};n("d667");ft.render=A,ft.__scopeId="data-v-22306606";var bt=ft,mt=Object(c["f"])("h2",null,"Recommentdations",-1),Ot={class:"p-grid p-jc-center p-mt-5"},jt=Object(c["f"])("br",null,null,-1),ht={class:"p-text-center"};function vt(t,e,n,r,o,a){return Object(c["o"])(),Object(c["d"])(c["a"],null,[mt,Object(c["f"])("div",Ot,[(Object(c["o"])(!0),Object(c["d"])(c["a"],null,Object(c["u"])(o.merchants,(function(e){return Object(c["o"])(),Object(c["d"])("a",{key:e.id,onClick:function(n){return t.$router.push("/merchant/"+e.id)},class:"p-col-2"},[Object(c["f"])("img",{width:"80",src:e.image,alt:"Picture"},null,8,["src"]),jt,Object(c["f"])("span",ht,Object(c["z"])(e.name),1)],8,["onClick"])})),128))])],64)}var gt={url:"http://192.168.84.13:31726/auth",realm:"devnation",clientId:"vue-app",onLoad:"login-required"},Pt=h(gt);function Tt(){return Pt.init({onLoad:gt.onLoad,checkLoginIframe:!1,redirectUri:"http://192.168.84.13:31981/",enableLogging:!0})}var wt={authenticate:Tt,keycloak:Pt},yt={name:"Recommentdation",data:function(){return{merchants:[]}},created:function(){var t=this;this.$store.getters["authentication/getAccessToken"]?this.fetchMerchants():wt.authenticate().then((function(e){e?(t.$store.dispatch("authentication/updateAccessToken",wt.keycloak.token),t.fetchMerchants()):window.location.reload()}))},methods:{fetchMerchants:function(){var t=this;fetch(new URL("/api/merchants","http://192.168.84.13:31726"),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.getters["authentication/getAccessToken"]}}).then((function(e){return e.json().then((function(e){return t.merchants=e}))}))}}};yt.render=vt;var Ct=yt,_t=n("6c02"),Rt=[{path:"/",name:"recommendation",component:Ct},{path:"/merchant/:id",name:"merchant",component:bt,props:!0}],kt=Object(_t["a"])({history:Object(_t["b"])(),routes:Rt}),At=kt,St=n("5502"),xt={namespaced:!0,state:{products:[],showModal:!1,showPopupCart:!1,currentProduct:{}},getters:{getAllProducts:function(t){return t.products},getCurrentProduct:function(t){return t.currentProduct},getProductById:function(t){return function(e){return t.products.find((function(t){return t.id==e}))}}},mutations:{CURRENT_PRODUCT:function(t,e){t.currentProduct=e},SHOW_MODAL:function(t){t.showModal=!t.showModal},SHOW_POPUP_CART:function(t){t.showPopupCart=!t.showPopupCart},SAVE_PRODUCTS:function(t,e){t.products=e}},actions:{currentProduct:function(t,e){t.commit("CURRENT_PRODUCT",e)},showOrHiddenModal:function(t){t.commit("SHOW_MODAL")},showOrHiddenPopupCart:function(t){t.commit("SHOW_POPUP_CART")},loadAllProducts:function(t,e){t.commit("SAVE_PRODUCTS",e)}}},Dt=(n("a434"),n("c04c")),Et=n.n(Dt),Ut={namespaced:!0,state:{products:[]},getters:{getAllProducts:function(t){return 0===t.products.length&&localStorage.selectedProducts&&(t.products=JSON.parse(localStorage.selectedProducts)),t.products}},mutations:{ADD_PRODUCT:function(t,e){var n=t.products.find((function(t){return t.id===e.id}));n?n.quantity++:(e.quantity=1,t.products.push(e))},REMOVE_PRODUCT:function(t,e){t.products.splice(e,1)},REMOVE_PRODUCT_BY_NAME:function(t,e){Et()(t.products,(function(t){return t.name===e}))},STORE_TO_STORAGE:function(t){localStorage.selectedProducts=JSON.stringify(t.products)}},actions:{addProduct:function(t,e){t.commit("ADD_PRODUCT",e),t.commit("STORE_TO_STORAGE")},removeProduct:function(t,e){t.commit("REMOVE_PRODUCT",e),t.commit("STORE_TO_STORAGE")},removeProductByName:function(t,e){t.commit("REMOVE_PRODUCT_BY_NAME",e),t.commit("STORE_TO_STORAGE")}}},It={message:null},Mt={error:function(t,e){t.message=e},clear:function(t){t.message=null}},Bt={error:function(t,e){var n=t.commit;n("error",e)},clear:function(t){var e=t.commit;e("clear")}},Lt={namespaced:!0,state:It,actions:Bt,mutations:Mt},Nt={accessToken:""},zt={getAccessToken:function(t){return t.accessToken}},$t={updateAccessToken:function(t,e){t.accessToken=e}},qt={updateAccessToken:function(t,e){t.commit("updateAccessToken",e)}},Jt={namespaced:!0,state:Nt,actions:qt,mutations:$t,getters:zt},Ft=new St["a"].Store({modules:{products:xt,cart:Ut,authentication:Jt,alert:Lt}}),Ht=Object(c["c"])(w);Ht.use(At),Ht.use(Ft),Ht.use(r["a"],{ripple:!0}),Ht.component("Button",o["a"]),Ht.component("InputText",a["a"]),Ht.component("Card",u["a"]),Ht.mount("#app")},"5e54":function(t,e,n){},"5f73":function(t,e,n){},"6cbb":function(t,e,n){},7675:function(t,e,n){"use strict";n("fc9f")},"7f91":function(t,e,n){},"8fc2":function(t,e,n){"use strict";n("6cbb")},c766:function(t,e,n){"use strict";n("495c")},d667:function(t,e,n){"use strict";n("5e54")},e7e1:function(t,e,n){"use strict";n("7f91")},ebda:function(t,e,n){"use strict";n("5f73")},fc9f:function(t,e,n){}});
//# sourceMappingURL=app.d850c59c.js.map